import{A as C}from"./AuthenticatedLayout-Csk7A1cc.js";import{r as f,o as L,a as I,b as m,c as g,d as o,u as h,w as a,F as y,e as x,f as r,Z as j,g as t,i as D,h as b,j as w,k as E,l as H,t as i,m as T}from"./app-BxcjcWUP.js";import{H as U}from"./Header-GYfsRgHP.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./granny_logo-Bzff25CZ.js";import"./BackButton-CG7jGwel.js";const F={class:"card-title"},O={class:"d-flex align-center w-50"},P={class:"d-flex flex-column ml-5"},z={class:"font text-accent"},M={class:"font text-accent"},R={class:"d-flex align-center w-50 justify-between"},$={class:"d-flex flex-column align-baseline"},S={class:"font text-accent"},W={class:"font text-accent"},Z={class:"d-flex align-center justify-end"},q=["src"],G={__name:"ApplesPage",setup(J){const p=f(!1),c=f([]),d=f([]),_=()=>{window.innerWidth<=1e3?p.value=!0:p.value=!1},A=async()=>{try{const s=await x.get("/api/v1/getAppleAnalyses");d.value=[],c.value=s.data,c.value&&c.value.forEach(e=>{console.log(e.id),k(e.id)})}catch(s){console.log(s)}},k=async s=>{try{const e=await x.get(`/api/v1/getOriginalImage/${s}`,{responseType:"arraybuffer"}),u=new Blob([e.data]);d.value.push(URL.createObjectURL(u))}catch(e){console.log(e)}},N=async s=>{T.visit("/summary/"+s,{method:"get"})};return L(()=>{_(),A(),window.addEventListener("resize",_)}),I(()=>{window.removeEventListener("resize",_)}),(s,e)=>{const u=m("v-btn"),l=m("v-card"),B=m("v-icon");return r(),g(y,null,[o(h(j),{title:"Apples"}),o(C,null,{default:a(()=>[o(U,{title:"Apples Dashboard",location:"dashboard"}),o(l,{class:"card"},{default:a(()=>[t("div",F,[e[1]||(e[1]=t("div",{class:"text-h5 mb-2 font-bold text-white"}," Analysis History ",-1)),o(h(D),{href:s.route("new-analysis")},{default:a(()=>[o(u,{color:"secondary",class:"text-accent font"},{default:a(()=>e[0]||(e[0]=[b("New Analysis")])),_:1})]),_:1},8,["href"])]),o(l,{class:"inner-card",color:"white"},{default:a(()=>[c.value.length==0?(r(),w(l,{key:0,color:"secondary",class:"history-card text-accent font mb-2"},{default:a(()=>e[2]||(e[2]=[b(" No Analyses Available ")])),_:1})):E("",!0),(r(!0),g(y,null,H(c.value,(n,v)=>(r(),w(l,{key:v,class:"history-card text-accent mb-2",color:"secondary",onClick:K=>N(n.id)},{default:a(()=>[t("div",O,[o(B,{color:"accent",icon:"mdi-food-apple"}),t("div",P,[t("div",z," ID: "+i(n.custom_id),1),t("div",M," User: "+i(n.user_id?n.user_name:"N/A"),1)])]),t("div",R,[t("div",$,[t("div",S," Date: "+i(n.date),1),t("div",W," Time: "+i(n.time),1)]),t("div",Z,[t("img",{class:"img",src:d.value[v],alt:""},null,8,q)])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})],64)}}},oe=V(G,[["__scopeId","data-v-d219aef0"]]);export{oe as default};
