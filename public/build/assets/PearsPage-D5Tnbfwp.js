import{A as B}from"./AuthenticatedLayout-Csk7A1cc.js";import{r as f,o as C,a as L,b as m,c as p,d as o,u as h,w as a,F as y,e as b,f as l,Z as I,g as t,i as j,h as x,j as w,k as D,l as E,t as i,m as H}from"./app-BxcjcWUP.js";import{H as T}from"./Header-GYfsRgHP.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./granny_logo-Bzff25CZ.js";import"./BackButton-CG7jGwel.js";const V={class:"card-title"},F={class:"d-flex align-center w-50"},O={class:"d-flex flex-column ml-5"},z={class:"font text-accent"},M={class:"font text-accent"},R={class:"d-flex align-center w-50 justify-between"},$={class:"d-flex flex-column align-baseline"},S={class:"font text-accent"},W={class:"font text-accent"},Z={class:"d-flex align-center justify-end"},q=["src"],G={__name:"PearsPage",setup(J){const v=f(!1),c=f([]),d=f([]),u=()=>{window.innerWidth<=1e3?v.value=!0:v.value=!1},k=async()=>{try{const s=await b.get("/api/v1/getAnalyses");d.value=[],c.value=s.data,c.value&&c.value.forEach(e=>{console.log(e.id),A(e.id)})}catch(s){console.log(s)}},A=async s=>{try{const e=await b.get(`/api/v1/getOriginalImage/${s}`,{responseType:"arraybuffer"}),_=new Blob([e.data]);d.value.push(URL.createObjectURL(_))}catch(e){console.log(e)}},N=async s=>{H.visit("/summary/"+s,{method:"get"})};return C(()=>{u(),k(),window.addEventListener("resize",u)}),L(()=>{window.removeEventListener("resize",u)}),(s,e)=>{const _=m("v-btn"),r=m("v-card"),P=m("v-icon");return l(),p(y,null,[o(h(I),{title:"Pears"}),o(B,null,{default:a(()=>[o(T,{title:"Pears Dashboard",location:"dashboard"}),o(r,{class:"card"},{default:a(()=>[t("div",V,[e[1]||(e[1]=t("div",{class:"text-h5 mb-2 font-bold text-white"}," Analysis History ",-1)),o(h(j),{href:s.route("new-analysis")},{default:a(()=>[o(_,{color:"secondary",class:"text-accent font"},{default:a(()=>e[0]||(e[0]=[x("New Analysis")])),_:1})]),_:1},8,["href"])]),o(r,{class:"inner-card",color:"white"},{default:a(()=>[c.value.length==0?(l(),w(r,{key:0,color:"secondary",class:"history-card text-accent font mb-2"},{default:a(()=>e[2]||(e[2]=[x(" No Analyses Available ")])),_:1})):D("",!0),(l(!0),p(y,null,E(c.value,(n,g)=>(l(),w(r,{key:g,class:"history-card text-accent mb-2",color:"secondary",onClick:K=>N(n.id)},{default:a(()=>[t("div",F,[o(P,{color:"accent",icon:"mdi-food-apple"}),t("div",O,[t("div",z," ID: "+i(n.custom_id),1),t("div",M," User: "+i(n.user?n.user:"N/A"),1)])]),t("div",R,[t("div",$,[t("div",S," Date: "+i(n.date),1),t("div",W," Time: "+i(n.time),1)]),t("div",Z,[t("img",{class:"img",src:d.value[g],alt:""},null,8,q)])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})],64)}}},oe=U(G,[["__scopeId","data-v-bde072da"]]);export{oe as default};
