import{A as D}from"./AuthenticatedLayout-Csk7A1cc.js";import{r as m,o as B,a as L,b as g,c as h,d as s,u as v,w as a,F as x,e as b,f as i,Z as N,g as t,i as y,j as w,h as j,k as I,l as V,t as d,m as E}from"./app-BxcjcWUP.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./granny_logo-Bzff25CZ.js";const T="/build/assets/pear-CcjRVMus.png",U={class:"content"},F={class:"d-flex align-center w-50"},M={class:"d-flex flex-column ml-5"},O={class:"font text-accent"},z={class:"font text-accent"},P={class:"d-flex align-center w-50 justify-between"},$={class:"d-flex flex-column align-baseline"},H={class:"font text-accent"},S={class:"font text-accent"},W={class:"d-flex align-center justify-end"},Z=["src"],q={__name:"Dashboard",setup(G){const _=m(!1),c=m([]),u=m([]),f=()=>{window.innerWidth<=1e3?_.value=!0:_.value=!1},k=async()=>{try{const o=await b.get("/api/v1/getAnalyses");u.value=[],c.value=o.data,c.value&&c.value.forEach(e=>{console.log(e.id),A(e.id)})}catch(o){console.log(o)}},A=async o=>{try{const e=await b.get(`/api/v1/getOriginalImage/${o}`,{responseType:"arraybuffer"}),r=new Blob([e.data]);u.value.push(URL.createObjectURL(r))}catch(e){console.log(e)}},C=async o=>{E.visit("/summary/"+o,{method:"get"})};return B(()=>{f(),k(),window.addEventListener("resize",f)}),L(()=>{window.removeEventListener("resize",f)}),(o,e)=>{const r=g("v-icon"),n=g("v-card");return i(),h(x,null,[s(v(N),{title:"Dashboard"}),s(D,null,{header:a(()=>e[0]||(e[0]=[t("div",{class:"header elevation-5"},[t("h2",{class:"text-h4 title font-bold text-white"},"Dashboard")],-1)])),default:a(()=>[t("div",U,[s(n,{class:"card"},{default:a(()=>[e[3]||(e[3]=t("div",{class:"text-h5 card-title font-bold text-white"}," Categories ",-1)),s(n,{class:"inner-card"},{default:a(()=>[t("div",null,[s(v(y),{href:o.route("apples")},{default:a(()=>[s(n,{class:"category-card mb-2"},{default:a(()=>[s(r,{color:"accent",icon:"mdi-food-apple"}),e[1]||(e[1]=t("div",{class:"font text-accent text-h5 ml-2"}," Apples ",-1))]),_:1})]),_:1},8,["href"]),s(v(y),{href:o.route("pears")},{default:a(()=>[s(n,{class:"category-card mb-2"},{default:a(()=>e[2]||(e[2]=[t("img",{src:T,alt:"",class:"icon"},null,-1),t("div",{class:"font text-accent text-h5 ml-2"}," Pears ",-1)])),_:1})]),_:1},8,["href"])])]),_:1})]),_:1}),s(n,{class:"card"},{default:a(()=>[e[5]||(e[5]=t("div",{class:"text-h5 mb-2 font-bold text-white"}," Recent Analyses ",-1)),s(n,{class:"inner-card"},{default:a(()=>[c.value.length==0?(i(),w(n,{key:0,color:"secondary",class:"analysis-card text-accent font mb-2"},{default:a(()=>e[4]||(e[4]=[j(" No Analyses Available ")])),_:1})):I("",!0),(i(!0),h(x,null,V(c.value,(l,p)=>(i(),w(n,{class:"analysis-card text-accent mb-2",onClick:J=>C(l.id),key:p},{default:a(()=>[t("div",F,[s(r,{color:"accent",icon:"mdi-food-apple"}),t("div",M,[t("div",O," ID: "+d(l.custom_id),1),t("div",z," User: "+d(l.user?l.user:"N/A"),1)])]),t("div",P,[t("div",$,[t("div",H," Date: "+d(l.date),1),t("div",S," Time: "+d(l.time),1)]),t("div",W,[t("img",{class:"img",src:u.value[p],alt:""},null,8,Z)])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])]),_:1})],64)}}},ee=R(q,[["__scopeId","data-v-c5921a6e"]]);export{ee as default};
